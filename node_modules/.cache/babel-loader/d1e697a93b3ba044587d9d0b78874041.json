{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\React\\\\coderhouse\\\\src\\\\components\\\\ItemDetailContainer\\\\ItemDetailContainer.js\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getFirestore } from '../../firebase';\nimport Loader from '../../components/loader/Loader';\nimport ItemDetail from \"../../components/ItemDetail/ItemDetail.js\";\nimport { NavLink } from 'react-router-dom';\nimport { CartContext } from '../../components/Context/CartContext.js';\nimport './product.css';\n\nfunction Product({\n  data\n}) {\n  const {\n    id\n  } = useParams();\n  const [size, setSize] = useState('');\n  const [product, setProduct] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [cart, setCart] = useContext(CartContext);\n\n  const onKeyDown = e => {\n    e.preventDefault();\n    let value = e.key;\n    const notAllowedChars = new RegExp('[aeiou]');\n\n    if (notAllowedChars.test(value)) {\n      e.stopPropagation();\n    } else {\n      setSize(size + value);\n    }\n  };\n\n  const handleSizeChange = event => {\n    event.preventDefault(); // `event` es un Synthetic Event de React.\n    // Puedo acceder al evento original con `event.nativeEvent`.\n\n    console.log(event.nativeEvent.target.value); // Pero React ya tiene los valores más comunes definidos dentro de este event.\n\n    setSize(event.target.value);\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    const db = getFirestore();\n    const itemCollection = db.collection('items');\n    const item = itemCollection.doc(id);\n    item.get().then(doc => {\n      if (!doc.exists) {\n        console.log(\"Item does not exist!\");\n        return true;\n      }\n\n      const dataQuery = doc.data();\n      console.log(dataQuery);\n      setProduct({\n        id: doc.id,\n        ...doc.data()\n      });\n    }).catch(error => {\n      console.log('Error searching item: ', error);\n    }).finally(() => {\n      setLoading(false);\n    });\n  }, [id]);\n  useEffect(() => {\n    console.log(size);\n  }, [size]);\n\n  const renderProduct = () => /*#__PURE__*/React.createElement(\"p\", {\n    className: \"Product-Description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, product.description); // Set the Cart Context with the added product\n\n\n  const addToCart = () => {\n    setCart(currentCart => [...currentCart, product]);\n  };\n\n  useEffect(() => {\n    console.log(cart);\n  }, [cart]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }, loading && /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  }), !loading && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Product\",\n    style: {\n      \"display\": \"flex\",\n      \"justifyContent\": \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"Product-Title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, product.nombre), /*#__PURE__*/React.createElement(NavLink, {\n    to: '/cart',\n    className: \"ButtonLink\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, cart.length, \" items Added. Go to Checkout\")));\n}\n\nexport default Product;","map":{"version":3,"sources":["C:/xampp/htdocs/React/coderhouse/src/components/ItemDetailContainer/ItemDetailContainer.js"],"names":["React","useEffect","useState","useContext","useParams","getFirestore","Loader","ItemDetail","NavLink","CartContext","Product","data","id","size","setSize","product","setProduct","loading","setLoading","cart","setCart","onKeyDown","e","preventDefault","value","key","notAllowedChars","RegExp","test","stopPropagation","handleSizeChange","event","console","log","nativeEvent","target","db","itemCollection","collection","item","doc","get","then","exists","dataQuery","catch","error","finally","renderProduct","description","addToCart","currentCart","nombre","length"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, useContext} from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { getFirestore } from '../../firebase';\r\nimport Loader from '../../components/loader/Loader';\r\nimport ItemDetail from \"../../components/ItemDetail/ItemDetail.js\";\r\nimport { NavLink } from 'react-router-dom';\r\nimport { CartContext } from '../../components/Context/CartContext.js';\r\n\r\n\r\n\r\nimport './product.css';\r\n\r\n\r\nfunction Product({ data }) {\r\n  const { id } = useParams();\r\n  const [size, setSize] = useState('');\r\n  const [product, setProduct] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [cart, setCart] = useContext(CartContext);\r\n\r\n  const onKeyDown = e => {\r\n    e.preventDefault();\r\n    let value = e.key;\r\n    const notAllowedChars = new RegExp('[aeiou]');\r\n    if (notAllowedChars.test(value)) {\r\n      e.stopPropagation();\r\n    } else {\r\n      setSize(size + value);\r\n    }\r\n  }\r\n\r\n  const handleSizeChange = (event) => {\r\n    event.preventDefault();\r\n    // `event` es un Synthetic Event de React.\r\n    // Puedo acceder al evento original con `event.nativeEvent`.\r\n    console.log(event.nativeEvent.target.value);\r\n    // Pero React ya tiene los valores más comunes definidos dentro de este event.\r\n    setSize(event.target.value);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setLoading(true)\r\n    const db = getFirestore()\r\n    const itemCollection = db.collection('items');\r\n    const item = itemCollection.doc(id);\r\n\r\n    item.get()\r\n    .then((doc) => {\r\n      if (!doc.exists) {\r\n        console.log(\"Item does not exist!\");\r\n        return true;\r\n      }\r\n      const dataQuery = doc.data();\r\n      console.log(dataQuery);\r\n      setProduct({ id: doc.id, ...doc.data() });\r\n    })\r\n    .catch((error) => {\r\n      console.log('Error searching item: ', error);\r\n    })\r\n    .finally(() => {\r\n      setLoading(false);\r\n    })\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    console.log(size)\r\n  }, [size]);\r\n\r\n\r\n  const renderProduct = () => (\r\n\r\n    <p className='Product-Description'>\r\n      {product.description}\r\n    </p>\r\n  )\r\n\r\n  // Set the Cart Context with the added product\r\n  const addToCart = () => {\r\n    setCart(currentCart => [...currentCart, product])\r\n  }\r\n\r\n  useEffect(() => {\r\n    console.log(cart);\r\n  }, [cart]);\r\n\r\n  return(\r\n    <div>\r\n      {loading && <Loader />}\r\n      {!loading &&\r\n        <div className=\"Product\" style={{\"display\": \"flex\", \"justifyContent\": \"center\"}}>\r\n          <h2 className=\"Product-Title\">{product.nombre}</h2>\r\n\r\n\r\n          <NavLink\r\n            to={'/cart'}\r\n            className=\"ButtonLink\"\r\n          >{cart.length} items Added. Go to Checkout</NavLink>\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n"]},"metadata":{},"sourceType":"module"}